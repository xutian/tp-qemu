- blockdev_full_backup:
    virt_test_type = qemu libvirt
    type = blockdev_full_backup
    serial_login = no
    restart_vm = yes
    kill_vm_on_error = yes
    login_timeout = 240
    storage_pools = default
    storage_type_default = "directory"
    target_path_default = "/var/lib/avocado/data/avocado-vt/images"
    images += " img3"
    storage_pool = default
    image_size_img2 = 200M
    image_size_img3 = 200M
    image_name_img3 = source
    force_create_image_img3 = yes
    start_vm = no
    force_remove_img2 = yes
    image_name_img2 = img2
    image_format_img2 = qcow2
    sync = full
    source_image = img3
    target_image = img2
    variants:
        - @dst_default_cluster_size:
            only default_compress_mode
            only default_complete_mode
        - dst_cluster_size_512:
            image_cluster_size_img2 = 512
            only default_compress_mode
        - dst_cluster_size_2M:
            image_cluster_size_img2 = 2097152
            only auto_compress
        - dst_random_cluster_size:
            blacklist = "512 65536 2097152"
            random_cluster_size  = yes
    variants:
        - @default_compress_mode:
            compress = false
        - auto_compress:
            compress = true
    variants:
        - @default_complete_mode:
            auto-dismiss = true
            auto-finalize = true
        - not_auto_complete:
            auto-dismiss = false
            auto-finalize = false
    backup_extra_options = "auto-dismiss auto-finalize compress compress sync'
